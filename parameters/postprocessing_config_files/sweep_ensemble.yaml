program: postprocessing/pp_sweep.py 
method: bayes
metric:
  name: mAP
  goal: maximize

parameters:
  # Ensemble weights
  detr_weight:
    distribution: uniform
    min: 0.0
    max: 1.0
  yolo_weight:
    distribution: uniform
    min: 0.0
    max: 1.0

  # Input configurations (fixed values)
  input_yolo_models_path:
    value: "parameters/yolo_config_files/*.yaml"
  input_detr_csv_path:
    value: "submissions/interim/detr.csv"
  input_yolo_csv_paths:
    value:
      - "submissions/interim/predictions_9s_neg_preds_WBCremoved.csv"
  input_TRAIN_CSV:
    value: "data/csv_files/Train.csv"
  input_NEG_CSV:
    value: "data/csv_files/NEG_OR_NOT.csv"
  input_TEST_CSV:
    value: "data/csv_files/Test.csv"
  input_SPLIT_CSV:
    value: "data/csv_files/split_assignment.csv"
  input_DATA_DIR:
    value: "data/img"
  input_detr_csv_dir:
    value: "csv_cv/detr_911"
  input_yolo_csv_dir:
    value: "csv_cv/worthy_sweep_3"
  output_path:
    value: "submissions/ensemble_results.csv"

  # Postprocessing configurations for individual DETR models
  postprocessing_individual_detr_use_nms:
    distribution: categorical
    values: [true, false]
  postprocessing_individual_detr_nms_iou_threshold_troph:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_individual_detr_nms_iou_threshold_wbc:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_individual_detr_use_wbf:
    distribution: categorical
    values: [true, false]
  postprocessing_individual_detr_wbf_iou_threshold_troph:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_individual_detr_wbf_conf_threshold_troph:
    distribution: uniform
    min: 0.0
    max: 0.3
  postprocessing_individual_detr_wbf_iou_threshold_wbc:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_individual_detr_wbf_conf_threshold_wbc:
    distribution: uniform
    min: 0.0
    max: 0.3

  # Postprocessing configurations for individual YOLO models
  postprocessing_individual_yolo_use_nms:
    distribution: categorical
    values: [true, false]
  postprocessing_individual_yolo_nms_iou_threshold_troph:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_individual_yolo_nms_iou_threshold_wbc:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_individual_yolo_use_wbf:
    distribution: categorical
    values: [true, false]
  postprocessing_individual_yolo_wbf_iou_threshold_troph:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_individual_yolo_wbf_conf_threshold_troph:
    distribution: uniform
    min: 0.0
    max: 0.3
  postprocessing_individual_yolo_wbf_iou_threshold_wbc:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_individual_yolo_wbf_conf_threshold_wbc:
    distribution: uniform
    min: 0.0
    max: 0.3

  # Postprocessing configurations for ensemble YOLO models
  postprocessing_ensemble_yolo_use_nms:
    distribution: categorical
    values: [true, false]
  postprocessing_ensemble_yolo_nms_iou_threshold_troph:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_ensemble_yolo_nms_iou_threshold_wbc:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_ensemble_yolo_use_wbf:
    distribution: categorical
    values: [true, false]
  postprocessing_ensemble_yolo_wbf_iou_threshold_troph:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_ensemble_yolo_wbf_conf_threshold_troph:
    distribution: uniform
    min: 0.0
    max: 0.3
  postprocessing_ensemble_yolo_wbf_iou_threshold_wbc:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_ensemble_yolo_wbf_conf_threshold_wbc:
    distribution: uniform
    min: 0.0
    max: 0.3

  # Postprocessing configurations for ensemble of all models
  postprocessing_ensemble_all_confidence_threshold:
    distribution: uniform
    min: 0.1
    max: 0.5
  postprocessing_ensemble_all_wbf_iou_threshold:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_ensemble_all_nms_iou_threshold:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_ensemble_all_soft_nms_sigma:
    distribution: uniform
    min: 0.1
    max: 0.5
  postprocessing_ensemble_all_troph_conf_threshold:
    distribution: uniform
    min: 0.1
    max: 0.5
  postprocessing_ensemble_all_troph_iou_threshold:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_ensemble_all_wbc_conf_threshold:
    distribution: uniform
    min: 0.1
    max: 0.5
  postprocessing_ensemble_all_wbc_iou_threshold:
    distribution: uniform
    min: 0.3
    max: 0.85
  postprocessing_ensemble_all_use_size_filtering:
    distribution: categorical
    values: [true, false]
  postprocessing_ensemble_all_min_size_ratio:
    distribution: uniform
    min: 0.5
    max: 1.0
  postprocessing_ensemble_all_max_size_ratio:
    distribution: uniform
    min: 1.0
    max: 2.0
  postprocessing_ensemble_all_remove_edge_boxes:
    distribution: categorical
    values: [true, false]
  postprocessing_ensemble_all_edge_distance_threshold:
    distribution: uniform
    min: 0.05
    max: 0.15
  postprocessing_ensemble_all_use_spatial_density_troph:
    distribution: categorical
    values: [true, false]
  postprocessing_ensemble_all_option_troph:
    distribution: categorical
    values: [0, 1, 2, 3, 4]
  postprocessing_ensemble_all_base_adjustment_troph:
    distribution: uniform
    min: 0.9
    max: 1.0
  postprocessing_ensemble_all_density_multiplier_troph:
    distribution: uniform
    min: 0.1
    max: 0.2
  postprocessing_ensemble_all_percentile_low_troph:
    distribution: uniform
    min: 10
    max: 40
  postprocessing_ensemble_all_percentile_high_troph:
    distribution: uniform
    min: 60
    max: 90
  postprocessing_ensemble_all_low_density_adjustment_troph:
    distribution: uniform
    min: 0.9
    max: 1.0
  postprocessing_ensemble_all_high_density_adjustment_troph:
    distribution: uniform
    min: 1.0
    max: 1.1
  postprocessing_ensemble_all_use_spatial_density_wbc:
    distribution: categorical
    values: [true, false]
  postprocessing_ensemble_all_option_wbc:
    distribution: categorical
    values: [0, 1, 2, 3, 4]
  postprocessing_ensemble_all_base_adjustment_wbc:
    distribution: uniform
    min: 0.9
    max: 1.0
  postprocessing_ensemble_all_density_multiplier_wbc:
    distribution: uniform
    min: 0.1
    max: 0.2
  postprocessing_ensemble_all_percentile_low_wbc:
    distribution: uniform
    min: 10
    max: 40
  postprocessing_ensemble_all_percentile_high_wbc:
    distribution: uniform
    min: 60
    max: 90
  postprocessing_ensemble_all_low_density_adjustment_wbc:
    distribution: uniform
    min: 0.9
    max: 1.0
  postprocessing_ensemble_all_high_density_adjustment_wbc:
    distribution: uniform
    min: 1.0
    max: 1.1